globalThis.__timing__.logStart('Load chunks/build/VAppBar');import { ref, shallowRef, computed, watch, toRef, createVNode, mergeProps, watchEffect } from 'vue';
import { s as se, A } from './VToolbar.mjs';
import { y, Z as Z$1, f as y$1, C, r, i, m as mt, o, g as yt } from './server.mjs';

const N=y({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function R(h){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:o}=p;let a=0,u=0;const f=ref(null),l=shallowRef(0),t=shallowRef(0),i=shallowRef(0),v=shallowRef(false),s=shallowRef(false),c=computed(()=>Number(h.scrollThreshold)),d=computed(()=>Z$1((c.value-l.value)/c.value||0)),S=()=>{const e=f.value;if(!e||o&&!o.value)return;a=l.value,l.value="window"in e?e.pageYOffset:e.scrollTop;const m=e instanceof Window?(void 0).documentElement.scrollHeight:e.scrollHeight;if(u!==m){u=m;return}s.value=l.value<a,i.value=Math.abs(l.value-c.value);};return watch(s,()=>{t.value=t.value||l.value;}),watch(v,()=>{t.value=0;}),o&&watch(o,S,{immediate:true}),{scrollThreshold:c,currentScroll:l,currentThreshold:i,isScrollActive:v,scrollRatio:d,isScrollingUp:s,savedScroll:t}}

const U=y({scrollBehavior:String,modelValue:{type:Boolean,default:true},location:{type:String,default:"top",validator:l=>["top","bottom"].includes(l)},...A(),...yt(),...N(),height:{type:[Number,String],default:64}},"VAppBar"),Z=y$1()({name:"VAppBar",props:U(),emits:{"update:modelValue":l=>true},setup(l,d){let{slots:f}=d;const u=ref(),o$1=C(l,"modelValue"),t=computed(()=>{const e=new Set(l.scrollBehavior?.split(" ")??[]);return {hide:e.has("hide"),fullyHide:e.has("fully-hide"),inverted:e.has("inverted"),collapse:e.has("collapse"),elevate:e.has("elevate"),fadeImage:e.has("fade-image")}}),h=computed(()=>{const e=t.value;return e.hide||e.fullyHide||e.inverted||e.collapse||e.elevate||e.fadeImage||!o$1.value}),{currentScroll:r$1,scrollThreshold:s,isScrollingUp:p,scrollRatio:i$1}=R(l,{canScroll:h}),v=computed(()=>t.value.hide||t.value.fullyHide),g=computed(()=>l.collapse||t.value.collapse&&(t.value.inverted?i$1.value>0:i$1.value===0)),y=computed(()=>l.flat||t.value.fullyHide&&!o$1.value||t.value.elevate&&(t.value.inverted?r$1.value>0:r$1.value===0)),b=computed(()=>t.value.fadeImage?t.value.inverted?1-i$1.value:i$1.value:void 0),S=computed(()=>{if(t.value.hide&&t.value.inverted)return 0;const e=u.value?.contentHeight??0,n=u.value?.extensionHeight??0;return v.value?r$1.value<s.value||t.value.fullyHide?e+n:e:e+n});r(computed(()=>!!l.scrollBehavior),()=>{watchEffect(()=>{v.value?t.value.inverted?o$1.value=r$1.value>s.value:o$1.value=p.value||r$1.value<s.value:o$1.value=true;});});const{ssrBootStyles:B}=i(),{layoutItemStyles:V}=mt({id:l.name,order:computed(()=>parseInt(l.order,10)),position:toRef(l,"location"),layoutSize:S,elementSize:shallowRef(void 0),active:o$1,absolute:toRef(l,"absolute")});return o(()=>{const e=se.filterProps(l);return createVNode(se,mergeProps({ref:u,class:["v-app-bar",{"v-app-bar--bottom":l.location==="bottom"},l.class],style:[{...V.value,"--v-toolbar-image-opacity":b.value,height:void 0,...B.value},l.style]},e,{collapse:g.value,flat:y.value}),f)}),{}}});

export { Z };;globalThis.__timing__.logEnd('Load chunks/build/VAppBar');
