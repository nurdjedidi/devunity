import{S as _}from"./Dx_QeZV3.js";import{u as h,b as V,g as F,h as u,d as g,n as I,c as d,l as A,a as w,i as b,r as x,C as E,_ as ee}from"./CTpYCmOx.js";import{u as te}from"./C5XFgQnc.js";import{v as le}from"./BOmTdu30.js";import{V as ae}from"./D46G5lEI.js";import{V as j,a as C}from"./l8m5g3iJ.js";import{V as B}from"./DCFwSHk8.js";import{V as oe}from"./SxKDZnYd.js";import{V as Y}from"./B2zV2hO7.js";import{V as W}from"./BJLcRbSt.js";import{h as se,d as y,x as ne,a5 as T,a7 as l,a6 as k,m as t,a9 as P,ab as U,a8 as a,ac as r,aj as q,$ as H,u as re}from"./CoKilWGJ.js";const ie={key:0},ue={class:"d-flex justify-end"},de={key:1},me={class:"d-flex justify-end"},fe={key:2},ve={class:"d-flex justify-space-between"},ce={key:3},pe={class:"mb-4"},ge={key:0},ye={class:"d-flex"},ke=se({__name:"settings",setup(we){te({title:"Settings - DevUnity",meta:[{name:"description",content:"Manage your account settings and preferences"},{name:"keywords",content:"DevUnity, settings, preferences, account, user settings"},{name:"author",content:"DevUnity"},{name:"robots",content:"index, follow"},{name:"viewport",content:"width=device-width, initial-scale=1.0"},{name:"og:title",content:"Settings - DevUnity"},{name:"og:description",content:"Manage your account settings and preferences"},{name:"og:image",content:"/logo/devunity-title.png"}]});const M=le(),$=h(),i=y("security"),m=y(!1),f=y(""),v=y("success"),L=y(!1),N=y(""),D=y(localStorage.getItem("app_theme")||"dark"),S=n=>{if(["light","dark","system"].includes(n)){D.value=n;{if(n==="system"){const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;M.global.name.value=e?"dark":"light"}else M.global.name.value=n;localStorage.setItem("app_theme",n)}}},c=y({newPassword:"",confirmPassword:""}),s=y({essential:!0,functional:localStorage.getItem("cookies_functional")==="true",analytics:localStorage.getItem("cookies_analytics")==="true",marketing:localStorage.getItem("cookies_marketing")==="true"}),G=()=>{setTimeout(()=>{z("Appearance settings updated","success")},500)},J=async()=>{try{if(!c.value.newPassword||!c.value.confirmPassword){f.value="New password and confirm password are required",v.value="error",m.value=!0;return}if(c.value.newPassword!==c.value.confirmPassword){f.value="Passwords do not match",v.value="error",m.value=!0;return}await $.resetPassword(c.value.newPassword),f.value="Password updated successfully",v.value="success",m.value=!0}catch{f.value="An error occurred while updating the password",v.value="error",m.value=!0}},K=()=>{localStorage.setItem("cookies_functional",s.value.functional.toString()),localStorage.setItem("cookies_analytics",s.value.analytics.toString()),localStorage.setItem("cookies_marketing",s.value.marketing.toString()),z("Cookie preferences updated","success")},O=()=>{s.value.functional=!1,s.value.analytics=!1,s.value.marketing=!1,localStorage.setItem("cookies_functional","false"),localStorage.setItem("cookies_analytics","false"),localStorage.setItem("cookies_marketing","false"),z("Cookies deleted successfully","success")},Q=()=>{setTimeout(()=>{f.value="Your data has been prepared for download",v.value="success",m.value=!0},1e3)},X=async()=>{try{await $.deleteAccount(),f.value="Your account has been deleted successfully",v.value="success",m.value=!0,setTimeout(()=>{window.location.href="/login"},2e3)}catch{f.value="An error occurred while deleting your account",v.value="error",m.value=!0}},z=(n,e)=>{f.value=n,v.value=e,m.value=!0};ne(()=>{{const n=localStorage.getItem("app_theme");n&&["light","dark","system"].includes(n)?(D.value=n,S(n)):S("dark"),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Z=>{D.value==="system"&&(M.global.name.value=Z.matches?"dark":"light")});const e=localStorage.getItem("cookies_functional"),o=localStorage.getItem("cookies_analytics"),R=localStorage.getItem("cookies_marketing");e!==null&&(s.value.functional=e==="true"),o!==null&&(s.value.analytics=o==="true"),R!==null&&(s.value.marketing=R==="true")}});const p=n=>D.value===n;return(n,e)=>(k(),T(ae,{fluid:"",class:"pa-6"},{default:l(()=>[t(j,null,{default:l(()=>[t(C,{cols:"12",lg:"3"},{default:l(()=>[t(V,{class:"rounded-lg mb-4",elevation:"2"},{default:l(()=>[t(F,{nav:""},{default:l(()=>[t(u,{"prepend-icon":"mdi-palette-outline",title:"Appearance",value:"appearance",onClick:e[0]||(e[0]=o=>i.value="appearance"),rounded:"lg",active:i.value==="appearance",color:"primary"},null,8,["active"]),t(u,{"prepend-icon":"mdi-shield-outline",title:"Security",value:"security",onClick:e[1]||(e[1]=o=>i.value="security"),rounded:"lg",active:i.value==="security",color:"primary"},null,8,["active"]),t(g,{class:"my-2"}),t(u,{"prepend-icon":"mdi-cookie-settings-outline",title:"Cookies",value:"cookies",onClick:e[2]||(e[2]=o=>i.value="cookies"),rounded:"lg",active:i.value==="cookies",color:"primary"},null,8,["active"]),t(u,{"prepend-icon":"mdi-delete-outline",title:"Data & Privacy",value:"privacy",onClick:e[3]||(e[3]=o=>i.value="privacy"),rounded:"lg",active:i.value==="privacy",color:"primary"},null,8,["active"])]),_:1})]),_:1})]),_:1}),t(C,{cols:"12",lg:"9"},{default:l(()=>[t(V,{class:"rounded-lg",elevation:"2"},{default:l(()=>[i.value==="appearance"?(k(),P("div",ie,[t(I,{class:"bg-primary text-white py-3 px-4 rounded-t-lg d-flex align-center"},{default:l(()=>[t(d,{color:"white",class:"mr-2"},{default:l(()=>e[17]||(e[17]=[a("mdi-palette-outline")])),_:1}),e[18]||(e[18]=a(" Appearance "))]),_:1}),t(A,{class:"pa-4"},{default:l(()=>[t(j,{class:"mb-4"},{default:l(()=>[t(C,{cols:"12"},{default:l(()=>[e[22]||(e[22]=r("div",{class:"text-subtitle-1 font-weight-bold mb-3"},"Theme",-1)),t(j,null,{default:l(()=>[t(C,{cols:"12",sm:"4"},{default:l(()=>[t(V,{color:p("light")?"primary":"surface",variant:"outlined",class:"d-flex flex-column align-center pa-4",hover:"",onClick:e[4]||(e[4]=o=>S("light"))},{default:l(()=>[t(d,{size:"large",color:p("light")?"white":"primary"},{default:l(()=>e[19]||(e[19]=[a("mdi-weather-sunny")])),_:1},8,["color"]),r("span",{class:q(["mt-2",{"text-white":p("light")}])},"Light",2)]),_:1},8,["color"])]),_:1}),t(C,{cols:"12",sm:"4"},{default:l(()=>[t(V,{color:p("dark")?"primary":"surface",variant:"outlined",class:"d-flex flex-column align-center pa-4",hover:"",onClick:e[5]||(e[5]=o=>S("dark"))},{default:l(()=>[t(d,{size:"large",color:p("dark")?"white":"primary"},{default:l(()=>e[20]||(e[20]=[a("mdi-weather-night")])),_:1},8,["color"]),r("span",{class:q(["mt-2",{"text-white":p("dark")}])},"Dark",2)]),_:1},8,["color"])]),_:1}),t(C,{cols:"12",sm:"4"},{default:l(()=>[t(V,{color:p("system")?"primary":"surface",variant:"outlined",class:"d-flex flex-column align-center pa-4",hover:"",onClick:e[6]||(e[6]=o=>S("system"))},{default:l(()=>[t(d,{size:"large",color:p("system")?"white":"primary"},{default:l(()=>e[21]||(e[21]=[a("mdi-theme-light-dark")])),_:1},8,["color"]),r("span",{class:q(["mt-2",{"text-white":p("system")}])},"System",2)]),_:1},8,["color"])]),_:1})]),_:1})]),_:1})]),_:1}),t(g,{class:"my-4"}),r("div",ue,[t(w,{color:"primary",variant:"elevated",onClick:G},{default:l(()=>[t(d,{start:""},{default:l(()=>e[23]||(e[23]=[a("mdi-content-save")])),_:1}),e[24]||(e[24]=a(" Save "))]),_:1})])]),_:1})])):U("",!0),i.value==="security"?(k(),P("div",de,[t(I,{class:"bg-primary text-white py-3 px-4 rounded-t-lg d-flex align-center"},{default:l(()=>[t(d,{color:"white",class:"mr-2"},{default:l(()=>e[25]||(e[25]=[a("mdi-shield-outline")])),_:1}),e[26]||(e[26]=a(" Security "))]),_:1}),t(A,{class:"pa-4"},{default:l(()=>[t(B,{type:"info",variant:"tonal",class:"mb-4"},{default:l(()=>e[27]||(e[27]=[a(" Manage your account security settings. We recommend using a strong password and changing it regularly. ")])),_:1}),e[30]||(e[30]=r("div",{class:"text-subtitle-1 font-weight-bold mb-3"},"Change Password",-1)),t(oe,{class:"mb-6"},{default:l(()=>[t(Y,{modelValue:c.value.newPassword,"onUpdate:modelValue":e[7]||(e[7]=o=>c.value.newPassword=o),label:"New Password",variant:"outlined",type:"password",class:"mb-3"},null,8,["modelValue"]),t(Y,{modelValue:c.value.confirmPassword,"onUpdate:modelValue":e[8]||(e[8]=o=>c.value.confirmPassword=o),label:"Confirm New Password",variant:"outlined",type:"password",class:"mb-3"},null,8,["modelValue"])]),_:1}),t(g,{class:"my-4"}),r("div",me,[t(w,{color:"primary",variant:"elevated",onClick:J},{default:l(()=>[t(d,{start:""},{default:l(()=>e[28]||(e[28]=[a("mdi-content-save")])),_:1}),e[29]||(e[29]=a(" Update Password "))]),_:1})])]),_:1})])):U("",!0),i.value==="cookies"?(k(),P("div",fe,[t(I,{class:"bg-primary text-white py-3 px-4 rounded-t-lg d-flex align-center"},{default:l(()=>[t(d,{color:"white",class:"mr-2"},{default:l(()=>e[31]||(e[31]=[a("mdi-cookie-settings-outline")])),_:1}),e[32]||(e[32]=a(" Cookie Preferences "))]),_:1}),t(A,{class:"pa-4"},{default:l(()=>[t(B,{type:"info",variant:"tonal",class:"mb-4"},{default:l(()=>e[33]||(e[33]=[a(" Manage your cookie preferences. Essential cookies are necessary for the site to function and cannot be disabled. ")])),_:1}),t(V,{color:"surface",variant:"outlined",class:"mb-6 pa-4"},{default:l(()=>[e[39]||(e[39]=r("h3",{class:"text-h6 font-weight-bold mb-3"},"Current Preferences Status",-1)),t(F,null,{default:l(()=>[t(u,null,{default:l(()=>[t(b,null,{default:l(()=>e[34]||(e[34]=[a("Essential cookies:")])),_:1}),t(x,null,{default:l(()=>e[35]||(e[35]=[a("Enabled")])),_:1})]),_:1}),t(u,null,{default:l(()=>[t(b,null,{default:l(()=>e[36]||(e[36]=[a("Functional cookies:")])),_:1}),t(x,null,{default:l(()=>[a(H(s.value.functional?"Enabled":"Disabled"),1)]),_:1})]),_:1}),t(u,null,{default:l(()=>[t(b,null,{default:l(()=>e[37]||(e[37]=[a("Analytics cookies:")])),_:1}),t(x,null,{default:l(()=>[a(H(s.value.analytics?"Enabled":"Disabled"),1)]),_:1})]),_:1}),t(u,null,{default:l(()=>[t(b,null,{default:l(()=>e[38]||(e[38]=[a("Marketing cookies:")])),_:1}),t(x,null,{default:l(()=>[a(H(s.value.marketing?"Enabled":"Disabled"),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(F,null,{default:l(()=>[t(u,null,{default:l(()=>[t(b,null,{default:l(()=>[t(E,{modelValue:s.value.essential,"onUpdate:modelValue":e[9]||(e[9]=o=>s.value.essential=o),label:"Essential cookies",color:"primary",disabled:"","hide-details":"",inset:""},null,8,["modelValue"])]),_:1}),t(x,{class:"text-caption mt-1"},{default:l(()=>e[40]||(e[40]=[a(" Required for the site to function, they cannot be disabled. ")])),_:1})]),_:1}),t(g,{class:"my-2"}),t(u,null,{default:l(()=>[t(b,null,{default:l(()=>[t(E,{modelValue:s.value.functional,"onUpdate:modelValue":e[10]||(e[10]=o=>s.value.functional=o),label:"Functional cookies",color:"primary","hide-details":"",inset:""},null,8,["modelValue"])]),_:1}),t(x,{class:"text-caption mt-1"},{default:l(()=>e[41]||(e[41]=[a(" Allow us to remember your preferences and personalize your experience. ")])),_:1})]),_:1}),t(g,{class:"my-2"}),t(u,null,{default:l(()=>[t(b,null,{default:l(()=>[t(E,{modelValue:s.value.analytics,"onUpdate:modelValue":e[11]||(e[11]=o=>s.value.analytics=o),label:"Analytics cookies",color:"primary","hide-details":"",inset:""},null,8,["modelValue"])]),_:1}),t(x,{class:"text-caption mt-1"},{default:l(()=>e[42]||(e[42]=[a(" Help us understand how you use our site to improve it. ")])),_:1})]),_:1}),t(g,{class:"my-2"}),t(u,null,{default:l(()=>[t(b,null,{default:l(()=>[t(E,{modelValue:s.value.marketing,"onUpdate:modelValue":e[12]||(e[12]=o=>s.value.marketing=o),label:"Marketing cookies",color:"primary","hide-details":"",inset:""},null,8,["modelValue"])]),_:1}),t(x,{class:"text-caption mt-1"},{default:l(()=>e[43]||(e[43]=[a(" Used to provide you with personalized advertisements. ")])),_:1})]),_:1})]),_:1}),t(g,{class:"my-4"}),r("div",ve,[t(w,{color:"error",variant:"outlined",onClick:O},{default:l(()=>[t(d,{start:""},{default:l(()=>e[44]||(e[44]=[a("mdi-cookie-remove")])),_:1}),e[45]||(e[45]=a(" Delete all cookies "))]),_:1}),t(w,{color:"primary",variant:"elevated",onClick:K},{default:l(()=>[t(d,{start:""},{default:l(()=>e[46]||(e[46]=[a("mdi-content-save")])),_:1}),e[47]||(e[47]=a(" Save "))]),_:1})])]),_:1})])):U("",!0),i.value==="privacy"?(k(),P("div",ce,[t(I,{class:"bg-primary text-white py-3 px-4 rounded-t-lg d-flex align-center"},{default:l(()=>[t(d,{color:"white",class:"mr-2"},{default:l(()=>e[48]||(e[48]=[a("mdi-delete-outline")])),_:1}),e[49]||(e[49]=a(" Data & Privacy "))]),_:1}),t(A,{class:"pa-4"},{default:l(()=>[t(B,{type:"warning",variant:"tonal",class:"mb-4"},{default:l(()=>e[50]||(e[50]=[a(" Warning: Actions on this page regarding your data are irreversible. ")])),_:1}),e[58]||(e[58]=r("div",{class:"text-subtitle-1 font-weight-bold mb-3"},"Data Export",-1)),e[59]||(e[59]=r("p",{class:"mb-4"},"You can download all your personal data stored on our platform.",-1)),t(w,{color:"primary",variant:"outlined","prepend-icon":"mdi-download",onClick:Q,class:"mb-6",disabled:""},{default:l(()=>e[51]||(e[51]=[a("Export my data")])),_:1}),t(g,{class:"my-4"}),e[60]||(e[60]=r("div",{class:"text-subtitle-1 font-weight-bold mb-3 text-success"},"Premium Status",-1)),r("p",pe,[e[54]||(e[54]=a(" Current status: ")),re($).user?.isPremium?(k(),T(W,{key:0,color:"success"},{default:l(()=>e[52]||(e[52]=[a(" Premium ")])),_:1})):(k(),T(W,{key:1,color:"error"},{default:l(()=>e[53]||(e[53]=[a(" Free ")])),_:1}))]),t(g,{class:"my-4"}),e[61]||(e[61]=r("div",{class:"text-subtitle-1 font-weight-bold mb-3 text-error"},"Account Deletion",-1)),e[62]||(e[62]=r("p",{class:"mb-4"},"Deleting your account will permanently erase all your personal data, including your projects, settings, and history.",-1)),L.value?(k(),P("div",ge,[t(Y,{modelValue:N.value,"onUpdate:modelValue":e[13]||(e[13]=o=>N.value=o),label:"Type 'DELETE' to confirm",variant:"outlined",hint:"This action is irreversible","persistent-hint":"",class:"mb-4"},null,8,["modelValue"]),r("div",ye,[t(w,{color:"error",variant:"tonal",disabled:N.value!=="DELETE",onClick:X,class:"mr-2"},{default:l(()=>e[55]||(e[55]=[a(" Confirm deletion ")])),_:1},8,["disabled"]),t(w,{color:"grey",variant:"text",onClick:e[14]||(e[14]=o=>L.value=!1)},{default:l(()=>e[56]||(e[56]=[a(" Cancel ")])),_:1})])])):(k(),T(w,{key:1,color:"error",variant:"outlined","prepend-icon":"mdi-account-remove",onClick:e[15]||(e[15]=o=>L.value=!0)},{default:l(()=>e[57]||(e[57]=[a(" Delete my account ")])),_:1}))]),_:1})])):U("",!0)]),_:1})]),_:1})]),_:1}),t(_,{modelValue:m.value,"onUpdate:modelValue":e[16]||(e[16]=o=>m.value=o),text:f.value,color:v.value,timeout:2e3},null,8,["modelValue","text","color"])]),_:1}))}}),Ue=ee(ke,[["__scopeId","data-v-be6d8b82"]]);export{Ue as default};
