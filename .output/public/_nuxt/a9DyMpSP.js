const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./-R0Y5_db.js","./DS3qCAFv.js","./entry.Bcf4y2Io.css","./monaco-editor-vue3.D06pSbay.css","./DgUPqZOx.js","./editor.KTE2po9A.css"])))=>i.map(i=>d[i]);
import{e as q,u as O,m as s,G as R,bI as $,$ as ee,ae as te,a6 as J,J as ae,f as d,w as t,l as le,o as p,b as a,K as G,d as o,V as j,g as C,i as V,D as I,t as f,q as oe,s as D,j as A,Q as se,h as x,B as E,ak as ne,z as H,a as g,M as re,b0 as ie,b1 as ue,E as de,n as pe,am as me,C as ce,bt as ve,_ as fe}from"./DS3qCAFv.js";import{_ as ge}from"./ltmAD03y.js";import{H as U}from"./DM3UtKzw.js";import{S as Se}from"./B5naUYwr.js";import{u as Le}from"./465T-vGN.js";import{V as ye}from"./CK1cOT0R.js";import{V as Ce}from"./BGiJcn-p.js";import{V as Ve}from"./Dk3fj49k.js";import{V as be,a as we}from"./CT5waAbE.js";import{V as ke}from"./Ciz5DV75.js";import{V as W}from"./BsnO5YNv.js";import{V as he}from"./sfhAMUcO.js";import{V as z,a as X}from"./BIeDHzTi.js";import"./CuO9SHfo.js";import"./rVrIuwwC.js";const Ie={class:"code-viewer"},Be={class:"code-header pa-4"},We={class:"pa-6 code-content"},Ze=q({__name:"snippetsView",setup(_e){const v=O(),N=de(()=>R(()=>import("./-R0Y5_db.js").then(l=>l.a),__vite__mapDeps([0,1,2,3]),import.meta.url)),L=s(!1),b=s(""),w=s("success"),k=s(!1),Z=s(null);Le({title:"Snippet - DevUnity",meta:[{name:"description",content:"View and edit your snippets"},{name:"keywords",content:"snippet, code snippet, code, snippets, edit, view"},{name:"author",content:"DevUnity"},{name:"robots",content:"index, follow"},{name:"viewport",content:"width=device-width, initial-scale=1.0"},{name:"og:title",content:"Snippet - DevUnity"},{name:"og:description",content:"View and edit your snippets"},{name:"og:image",content:"/logo/devunity-title.png"}],link:[{rel:"canonical",href:"https://devunity.com/snippets"}]}),R(()=>import("./DgUPqZOx.js").then(l=>l.e),__vite__mapDeps([4,1,2,5]),import.meta.url).then(()=>{self.MonacoEnvironment={getWorker:function(l,e){let i;return e==="json"?i=new URL(""+new URL("json.worker.BdzgVb0v.js",import.meta.url).href,import.meta.url).href:e==="css"||e==="scss"||e==="less"?i=new URL(""+new URL("css.worker.WS04UMDh.js",import.meta.url).href,import.meta.url).href:e==="html"||e==="handlebars"||e==="razor"?i=new URL(""+new URL("html.worker.CgShHVgd.js",import.meta.url).href,import.meta.url).href:e==="typescript"||e==="javascript"?i=new URL(""+new URL("ts.worker.7CkXc5qG.js",import.meta.url).href,import.meta.url).href:i=new URL("data:text/javascript;base64,LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi4KICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCmltcG9ydCB7IFNpbXBsZVdvcmtlclNlcnZlciB9IGZyb20gJy4uL2Jhc2UvY29tbW9uL3dvcmtlci9zaW1wbGVXb3JrZXIuanMnOwppbXBvcnQgeyBFZGl0b3JTaW1wbGVXb3JrZXIgfSBmcm9tICcuL2NvbW1vbi9zZXJ2aWNlcy9lZGl0b3JTaW1wbGVXb3JrZXIuanMnOwppbXBvcnQgeyBFZGl0b3JXb3JrZXJIb3N0IH0gZnJvbSAnLi9jb21tb24vc2VydmljZXMvZWRpdG9yV29ya2VySG9zdC5qcyc7CmxldCBpbml0aWFsaXplZCA9IGZhbHNlOwpleHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZShmb3JlaWduTW9kdWxlKSB7CiAgICBpZiAoaW5pdGlhbGl6ZWQpIHsKICAgICAgICByZXR1cm47CiAgICB9CiAgICBpbml0aWFsaXplZCA9IHRydWU7CiAgICBjb25zdCBzaW1wbGVXb3JrZXIgPSBuZXcgU2ltcGxlV29ya2VyU2VydmVyKChtc2cpID0+IHsKICAgICAgICBnbG9iYWxUaGlzLnBvc3RNZXNzYWdlKG1zZyk7CiAgICB9LCAod29ya2VyU2VydmVyKSA9PiBuZXcgRWRpdG9yU2ltcGxlV29ya2VyKEVkaXRvcldvcmtlckhvc3QuZ2V0Q2hhbm5lbCh3b3JrZXJTZXJ2ZXIpLCBmb3JlaWduTW9kdWxlKSk7CiAgICBnbG9iYWxUaGlzLm9ubWVzc2FnZSA9IChlKSA9PiB7CiAgICAgICAgc2ltcGxlV29ya2VyLm9ubWVzc2FnZShlLmRhdGEpOwogICAgfTsKfQpnbG9iYWxUaGlzLm9ubWVzc2FnZSA9IChlKSA9PiB7CiAgICAvLyBJZ25vcmUgZmlyc3QgbWVzc2FnZSBpbiB0aGlzIGNhc2UgYW5kIGluaXRpYWxpemUgaWYgbm90IHlldCBpbml0aWFsaXplZAogICAgaWYgKCFpbml0aWFsaXplZCkgewogICAgICAgIGluaXRpYWxpemUobnVsbCk7CiAgICB9Cn07Cg==",import.meta.url).href,new Worker(i,{type:"module"})}}});const h=$(),y=Number(h.query.id),S=h.query.type&&(h.query.type==="world"||h.query.type==="personal")?h.query.type:"world",n=s("// Your code here"),m=s("javascript"),K=s({automaticLayout:!0,fontSize:14,lineHeight:24,minimap:{enabled:!0},scrollBeyondLastLine:!1,roundedSelection:!0,padding:{top:16}}),c=s(!1),F=s(Date.now()),B=s(["html","css","javascript","typescript","vue"]),_=s(!1),r=s(null),T=()=>{Z.value&&U.highlightElement(Z.value)};ee([n,m],()=>{J(T)}),te(async()=>{U.configure({languages:B.value,ignoreUnescapedHTML:!0});try{_.value=!0;let l=null;S==="world"?l=v.worldSnippets.find(e=>e.id===y):l=v.personalSnippets.find(e=>e.id===y),l?(r.value=l,l.content&&(n.value=l.content),l.framework&&B.value.includes(l.framework.toLowerCase())&&(m.value=l.framework.toLowerCase())):(console.error("Snippet non trouvé dans les données chargées"),await v.loadData(),S==="world"?l=v.worldSnippets.find(e=>e.id===y):l=v.personalSnippets.find(e=>e.id===y),l&&(r.value=l,l.content&&(n.value=l.content),l.framework&&B.value.includes(l.framework.toLowerCase())&&(m.value=l.framework.toLowerCase())))}catch(l){console.error("Erreur lors du chargement du snippet:",l.message,l.stack)}finally{_.value=!1,J(T)}});function Y(){c.value=!c.value,F.value=Date.now()}ae(()=>n.value?U.highlight(n.value,{language:m.value,ignoreIllegals:!0}).value:"");const M=async()=>{try{await v.updateSnippet(y,n.value,S),b.value="Snippet mis à jour avec succès",w.value="success",L.value=!0,c.value=!1}catch(l){console.error(l.message,l.stack),b.value="Erreur lors de la mise à jour du snippet",w.value="error",L.value=!0}},Q=()=>{k.value=!0},P=async()=>{try{await v.deleteSnippet(y,S),k.value=!1,b.value="Snippet supprimé avec succès",w.value="success",L.value=!0,setTimeout(()=>{ve("/snippets")},1e3)}catch(l){console.error(l.message,l.stack),b.value="Erreur lors de la suppression du snippet",w.value="error",L.value=!0}};return(l,e)=>{const i=ge;return p(),d(le,null,{default:t(()=>[a(ye,{flat:"",color:"primary",elevation:"2"},{default:t(()=>[a(Ce,{class:"text-h5 font-weight-bold"},{default:t(()=>e[5]||(e[5]=[o(" Code Snippet Editor ")])),_:1}),a(j),a(C,{icon:"",class:"mr-2",to:"/snippets"},{default:t(()=>[a(V,null,{default:t(()=>e[6]||(e[6]=[o("mdi-arrow-left")])),_:1}),a(Ve,{activator:"parent",location:"bottom"},{default:t(()=>e[7]||(e[7]=[o("Back to Snippets")])),_:1})]),_:1}),a(be,{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=u=>m.value=u),items:B.value,label:"Language",style:{"max-width":"200px"},variant:"outlined",density:"comfortable",class:"mx-4","hide-details":""},null,8,["modelValue","items"]),I(S)==="personal"?(p(),d(C,{key:0,color:c.value?"success":"white",variant:c.value?"flat":"outlined",onClick:Y,class:"mx-2",disabled:!r.value},{default:t(()=>[a(V,{icon:c.value?"mdi-check":"mdi-pencil",start:""},null,8,["icon"]),o(" "+f(c.value?"Save":"Edit"),1)]),_:1},8,["color","variant","disabled"])):G("",!0),I(S)==="personal"?(p(),d(we,{key:1},{activator:t(({props:u})=>[a(C,se(u,{icon:"mdi-dots-vertical",variant:"text",disabled:!r.value}),null,16,["disabled"])]),default:t(()=>[a(oe,null,{default:t(()=>[a(D,{"prepend-icon":"mdi-content-save",onClick:M},{default:t(()=>e[8]||(e[8]=[o(" Save ")])),_:1}),a(A),a(D,{"prepend-icon":"mdi-delete",onClick:Q,color:"error"},{default:t(()=>e[9]||(e[9]=[o(" Delete ")])),_:1})]),_:1})]),_:1})):G("",!0)]),_:1}),a(ke,null,{default:t(()=>[r.value?(p(),d(x,{key:0,class:"rounded-lg pa-4 ma-4"},{default:t(()=>[a(E,{class:"text-h5 font-weight-bold"},{default:t(()=>[o(f(r.value.title),1)]),_:1}),a(ne,{class:"pt-2"},{default:t(()=>[a(W,{size:"small",color:"primary",variant:"flat",class:"mr-2"},{default:t(()=>[o(f(r.value.framework),1)]),_:1}),a(W,{size:"small",variant:"outlined",class:"mr-2"},{default:t(()=>[a(V,{start:"",size:"small"},{default:t(()=>e[10]||(e[10]=[o("mdi-calendar")])),_:1}),o(" "+f(I(v).formatDate(r.value.snippet_date||"")),1)]),_:1})]),_:1}),a(A,{class:"my-4"}),a(H,null,{default:t(()=>[o(f(r.value.description),1)]),_:1})]),_:1})):G("",!0),a(i,null,{default:t(()=>[a(he,{fluid:"",class:"pa-4 fill-height"},{default:t(()=>[_.value?(p(),d(z,{key:0,class:"fill-height",align:"center",justify:"center"},{default:t(()=>[a(X,{cols:"12",class:"text-center"},{default:t(()=>[a(re,{indeterminate:"",color:"primary",size:"64"}),e[11]||(e[11]=g("div",{class:"mt-4 text-h6"},"Loading snippet...",-1))]),_:1})]),_:1})):r.value?(p(),d(z,{key:2,"no-gutters":"",class:"fill-height"},{default:t(()=>[a(X,null,{default:t(()=>[a(x,{class:"fill-height",elevation:"3"},{default:t(()=>[a(ie,null,{default:t(()=>[c.value&&I(S)==="personal"?(p(),d(i,{key:0},{default:t(()=>[(p(),d(ue(I(N)),{value:n.value,"onUpdate:value":e[1]||(e[1]=u=>n.value=u),key:c.value,language:m.value,theme:"vs-dark",options:K.value,class:"fill-height editor-container"},null,40,["value","language","options"]))]),_:1})):(p(),d(i,{key:1},{default:t(()=>[g("div",Ie,[g("div",Be,[a(W,{color:"primary",size:"small",variant:"flat",class:"mr-2"},{default:t(()=>[o(f(m.value),1)]),_:1}),a(W,{size:"small",variant:"outlined"},{default:t(()=>[o(f(n.value.split(`
`).length)+" lines ",1)]),_:1})]),a(A),g("div",We,[g("pre",null,[g("code",{ref_key:"codeBlock",ref:Z,class:pe(m.value)},f(n.value),3)])])])]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})):(p(),d(z,{key:1,class:"fill-height",align:"center",justify:"center"},{default:t(()=>[a(X,{cols:"12",class:"text-center"},{default:t(()=>[a(V,{color:"error",size:"64"},{default:t(()=>e[12]||(e[12]=[o("mdi-alert-circle")])),_:1}),e[14]||(e[14]=g("div",{class:"mt-4 text-h6"},"Snippet not found",-1)),a(C,{color:"primary",class:"mt-4",to:"/snippets"},{default:t(()=>e[13]||(e[13]=[o(" Back to snippets ")])),_:1})]),_:1})]),_:1}))]),_:1})]),_:1})]),_:1}),a(Se,{modelValue:L.value,"onUpdate:modelValue":e[2]||(e[2]=u=>L.value=u),text:b.value,color:w.value,timeout:2e3},null,8,["modelValue","text","color"]),a(me,{modelValue:k.value,"onUpdate:modelValue":e[4]||(e[4]=u=>k.value=u),"max-width":"400"},{default:t(()=>[a(x,null,{default:t(()=>[a(E,{class:"bg-error text-white"},{default:t(()=>[a(V,{start:""},{default:t(()=>e[15]||(e[15]=[o("mdi-alert-circle")])),_:1}),e[16]||(e[16]=o(" Delete Confirmation "))]),_:1}),a(H,{class:"pt-4"},{default:t(()=>e[17]||(e[17]=[g("p",null,"Are you sure you want to delete this snippet? This action cannot be undone.",-1)])),_:1}),a(ce,null,{default:t(()=>[a(j),a(C,{variant:"text",onClick:e[3]||(e[3]=u=>k.value=!1)},{default:t(()=>e[18]||(e[18]=[o("Cancel")])),_:1}),a(C,{color:"error",onClick:P},{default:t(()=>[a(V,{start:""},{default:t(()=>e[19]||(e[19]=[o("mdi-delete")])),_:1}),e[20]||(e[20]=o(" Delete "))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}}),Fe=fe(Ze,[["__scopeId","data-v-1698d373"]]);export{Fe as default};
